<div class="profile-edit-contianer">
    <div class="title">Dein Profil bearbeiten</div>
    <div class="form-group"> 
        <div class="dropdown-container">
            <img class="user-img" src="{{ currentPic }}" (click)="this.setNewPic(currentPic)">
            <mat-menu #menu="matMenu" class="user-profile-edit-menu">
                <button mat-menu-item (click)="openAvatarDialog()">Avatare auswählen</button>
                <label mat-menu-item for="file">
                    Eigenes Bild auswählen
                </label>
                <input type="file" id="file" style="display: none;" (change)="onSelect($event)">
            </mat-menu>
            <button mat-icon-button [matMenuTriggerFor]="menu">
                <mat-icon class="more-icon">more_vert</mat-icon>
            </button>
        </div>
    </div>

    <form [formGroup]="userEditForm" (ngSubmit)="onEdit()" class="name-email-container">
        <div class="name-container form-group">
            <div class="name-container-title">
                <img class="name-icon" src="../assets/img/person.png">
                <span>Vollständiger Name</span>
            </div>
            <mat-form-field appearance="outline"  color="primary" class="width-100">
                <input matInput placeholder="{{ this.usersFbService.loggedInUserName }}" formControlName="name" type="text">
                <mat-error *ngIf="userEditForm.get('name')?.hasError('required')">Name eingeben</mat-error>
            </mat-form-field>
        </div>
        <div class="email-container form-group">
            <div class="email-container-title">
                <img class="email-icon" src="../assets/img/mail.png">
                <span>E-Mail-Adresse</span>
            </div>
            <mat-form-field appearance="outline" color="primary" class="width-100">
                <input matInput placeholder="{{ this.usersFbService.loggedInUserEmail }}" formControlName="email" type="email">
                <mat-error *ngIf="userEditForm.get('email')?.hasError('required')">Email eingeben</mat-error>
                <mat-error *ngIf="userEditForm.get('email')?.hasError('email')">Richtige Email eingeben</mat-error>
            </mat-form-field>
        </div>

        <div class="button-container paddingTop45">
            <button mat-fab extended class="unfilled-text-btn" (click)="this.dialog.closeAll()">Abbrechen</button>
            <button mat-fab extended color="primary" type="submit" [disabled]="userEditForm.invalid">Speichern</button>
        </div>
    </form>  
</div>